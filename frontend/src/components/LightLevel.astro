---
import chroma from 'chroma-js';

import { Icon } from 'astro-icon/components';

const { light } = Astro.props;

const f = chroma.scale(['gray', 'yellow', 'white']);

const percent = Math.min(Math.max(light / 100, 0), 1);

const lightColor = f(percent).alpha(0.6).css();

---

<div id="temp-widget" class="flex items-center gap-1 rounded-2xl border-2 border-gray-600 pl-2 pr-3">
    <Icon name="material-symbols:lightbulb-2" />
    <p>{light}%</p>
</div>

<style define:vars={{lightColor}}>
    #temp-widget {
        background-color: var(--lightColor);
    }
</style>