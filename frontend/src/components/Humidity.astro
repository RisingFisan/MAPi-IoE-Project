---
import chroma from 'chroma-js';

import { Icon } from 'astro-icon/components';

const { humid } = Astro.props;

const f = chroma.scale(['red', 'yellow', 'blue']);

const percent = Math.min(Math.max(humid / 100, 0), 1);

const humidColor = f(percent).alpha(0.6).css();

---

<div id="temp-widget" class="flex items-center gap-1 rounded-2xl border-2 border-gray-600 pl-2 pr-3">
    <Icon name="material-symbols:humidity-percentage" />
    <p>{humid}%</p>
</div>

<style define:vars={{humidColor}}>
    #temp-widget {
        background-color: var(--humidColor);
    }
</style>